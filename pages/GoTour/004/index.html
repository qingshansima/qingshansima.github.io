<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>教程：使用Go和Gin开发RESTful API | 土肥猿的面经园地</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="程序员的面经园地和知识仓库">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.8a73fe64.css" as="style"><link rel="preload" href="/assets/js/app.7d1116cd.js" as="script"><link rel="preload" href="/assets/js/2.f6c26bfc.js" as="script"><link rel="preload" href="/assets/js/3.7a437186.js" as="script"><link rel="preload" href="/assets/js/22.bf514554.js" as="script"><link rel="prefetch" href="/assets/js/10.046d08d1.js"><link rel="prefetch" href="/assets/js/11.5c5abcc8.js"><link rel="prefetch" href="/assets/js/12.f62d9829.js"><link rel="prefetch" href="/assets/js/13.4da237a9.js"><link rel="prefetch" href="/assets/js/14.48133eb7.js"><link rel="prefetch" href="/assets/js/15.48a2e085.js"><link rel="prefetch" href="/assets/js/16.81c035c3.js"><link rel="prefetch" href="/assets/js/17.5efa7f95.js"><link rel="prefetch" href="/assets/js/18.86e07264.js"><link rel="prefetch" href="/assets/js/19.2c2a487d.js"><link rel="prefetch" href="/assets/js/20.c4ffcb54.js"><link rel="prefetch" href="/assets/js/21.51a48402.js"><link rel="prefetch" href="/assets/js/23.d4182788.js"><link rel="prefetch" href="/assets/js/24.4dbd20f7.js"><link rel="prefetch" href="/assets/js/25.700af0f5.js"><link rel="prefetch" href="/assets/js/26.ae7d5d12.js"><link rel="prefetch" href="/assets/js/27.1d660e1f.js"><link rel="prefetch" href="/assets/js/28.e301b416.js"><link rel="prefetch" href="/assets/js/29.0fd72cb1.js"><link rel="prefetch" href="/assets/js/30.63cb3594.js"><link rel="prefetch" href="/assets/js/31.e64cb78c.js"><link rel="prefetch" href="/assets/js/32.fe425a1c.js"><link rel="prefetch" href="/assets/js/33.27558bfc.js"><link rel="prefetch" href="/assets/js/34.d0b64862.js"><link rel="prefetch" href="/assets/js/4.9ccfb5d5.js"><link rel="prefetch" href="/assets/js/5.573dfa2c.js"><link rel="prefetch" href="/assets/js/6.655bfde6.js"><link rel="prefetch" href="/assets/js/7.babcfb3d.js"><link rel="prefetch" href="/assets/js/8.71593ea4.js"><link rel="prefetch" href="/assets/js/9.b9ccbf27.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a73fe64.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/FatMonkey550.png" alt="土肥猿的面经园地" class="logo"> <span class="site-name can-hide">土肥猿的面经园地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经园地" class="dropdown-title"><a href="/pages/b5188c/" class="link-title">面经园地</a> <span class="title" style="display:none;">面经园地</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/java/001/" class="nav-link">Java基础面试高频问题1~80</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/002/" class="nav-link">Spring面试高频问题1~10</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/003/" class="nav-link">MyBatis面试高频问题1~18</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/004/" class="nav-link">Java架构师面试高频问题</a></li></ul></li><li class="dropdown-item"><h4>Dotnet</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DotNet/001/" class="nav-link">Dotnet面试题汇总1</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DB/001/" class="nav-link">Oracle面试题1-33</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发笔记" class="dropdown-title"><a href="/pages/43f8ea/" class="link-title">开发笔记</a> <span class="title" style="display:none;">开发笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/43f8ea/" class="nav-link">面向对象设计五大原则</a></li><li class="dropdown-subitem"><a href="/pages/e08693/" class="nav-link">微服务常用组件</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/java/001/" class="nav-link">Java常用中间件</a></li><li class="dropdown-subitem"><a href="/pages/Notes/java/002/" class="nav-link">Java常用工作流</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/Python/miniServer/000/" class="nav-link">面向测试方法开发Python微服务</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中文翻译" class="dropdown-title"><!----> <span class="title" style="display:;">中文翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/GoTour/000/" class="nav-link">序言和目录</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/001/" class="nav-link">Go语言的下载和安装</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/002/" class="nav-link">Go语言入门教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/003/" class="nav-link">Go模块教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/004/" aria-current="page" class="nav-link router-link-exact-active router-link-active">使用Go和Gin开发RESTful API</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/005/" class="nav-link">使用Go开发Web应用程序</a></li></ul></li><li class="dropdown-item"><h4>Python-PyAutoGui文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/python/PyAutoGui/001/" class="nav-link">1.Windows11下PyAutoGui的安装和使用</a></li></ul></li><li class="dropdown-item"><h4>微软UI自动化文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Microsoft/UIAutomation/000/" class="nav-link">UI自动化课程简介</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="职场随笔" class="dropdown-title"><a href="/pages/893e69/" class="link-title">职场随笔</a> <span class="title" style="display:none;">职场随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>失业笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day000/" class="nav-link">2003清明，失业第0天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day001/" class="nav-link">2003-04-06，失业第一周·第1天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day002/" class="nav-link">2003-04-07，失业第一周·第2天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day003/" class="nav-link">2003-04-08~09，失业第一周·双休</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day004/" class="nav-link">2003-04-08~09，失业第二周·第1天</a></li></ul></li></ul></div></div> <a href="https://github.com/qingshansima/qingshansima.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经园地" class="dropdown-title"><a href="/pages/b5188c/" class="link-title">面经园地</a> <span class="title" style="display:none;">面经园地</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/java/001/" class="nav-link">Java基础面试高频问题1~80</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/002/" class="nav-link">Spring面试高频问题1~10</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/003/" class="nav-link">MyBatis面试高频问题1~18</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/004/" class="nav-link">Java架构师面试高频问题</a></li></ul></li><li class="dropdown-item"><h4>Dotnet</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DotNet/001/" class="nav-link">Dotnet面试题汇总1</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DB/001/" class="nav-link">Oracle面试题1-33</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发笔记" class="dropdown-title"><a href="/pages/43f8ea/" class="link-title">开发笔记</a> <span class="title" style="display:none;">开发笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/43f8ea/" class="nav-link">面向对象设计五大原则</a></li><li class="dropdown-subitem"><a href="/pages/e08693/" class="nav-link">微服务常用组件</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/java/001/" class="nav-link">Java常用中间件</a></li><li class="dropdown-subitem"><a href="/pages/Notes/java/002/" class="nav-link">Java常用工作流</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/Python/miniServer/000/" class="nav-link">面向测试方法开发Python微服务</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中文翻译" class="dropdown-title"><!----> <span class="title" style="display:;">中文翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/GoTour/000/" class="nav-link">序言和目录</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/001/" class="nav-link">Go语言的下载和安装</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/002/" class="nav-link">Go语言入门教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/003/" class="nav-link">Go模块教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/004/" aria-current="page" class="nav-link router-link-exact-active router-link-active">使用Go和Gin开发RESTful API</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/005/" class="nav-link">使用Go开发Web应用程序</a></li></ul></li><li class="dropdown-item"><h4>Python-PyAutoGui文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/python/PyAutoGui/001/" class="nav-link">1.Windows11下PyAutoGui的安装和使用</a></li></ul></li><li class="dropdown-item"><h4>微软UI自动化文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Microsoft/UIAutomation/000/" class="nav-link">UI自动化课程简介</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="职场随笔" class="dropdown-title"><a href="/pages/893e69/" class="link-title">职场随笔</a> <span class="title" style="display:none;">职场随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>失业笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day000/" class="nav-link">2003清明，失业第0天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day001/" class="nav-link">2003-04-06，失业第一周·第1天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day002/" class="nav-link">2003-04-07，失业第一周·第2天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day003/" class="nav-link">2003-04-08~09，失业第一周·双休</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day004/" class="nav-link">2003-04-08~09，失业第二周·第1天</a></li></ul></li></ul></div></div> <a href="https://github.com/qingshansima/qingshansima.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sidebar-slot sidebar-slot-top">
  <a href="http://apifox.cn/a103xugaoyi" target="_blank">
    <img src="https://cdn.staticaly.com/gh/xugaoyi/blog-gitalk-comment@master/img/431669861564_.2470ykdcpbds.jpg" alt="npm" class="no-zoom" style="width: 100%;border-radius: 2px;">
    <p style="text-align: center;margin: 0;color: #999;font-size: 12px;">(进入注册为作者充电)</p>
  </a></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Go语言文档中文翻译</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/GoTour/000/" class="sidebar-link">序言和目录</a></li><li><a href="/pages/GoTour/001/" class="sidebar-link">Go语言的下载和安装</a></li><li><a href="/pages/GoTour/002/" class="sidebar-link">Go语言入门教程</a></li><li><a href="/pages/GoTour/003/" class="sidebar-link">Go模块教程</a></li><li><a href="/pages/GoTour/004/" aria-current="page" class="active sidebar-link">教程：使用Go和Gin开发RESTful API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#课程准备" class="sidebar-link">课程准备</a></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#api-接口设计" class="sidebar-link">API 接口设计</a></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#为代码创建文件夹" class="sidebar-link">为代码创建文件夹</a></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#创建数据" class="sidebar-link">创建数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#编写代码" class="sidebar-link">编写代码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#编写处理程序以返回所有项目" class="sidebar-link">编写处理程序以返回所有项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#编写代码-2" class="sidebar-link">编写代码</a></li><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#运行代码" class="sidebar-link">运行代码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#编写处理程序以添加新项" class="sidebar-link">编写处理程序以添加新项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#编写代码-3" class="sidebar-link">编写代码</a></li><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#运行代码-2" class="sidebar-link">运行代码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#编写处理程序以返回特定项" class="sidebar-link">编写处理程序以返回特定项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#编写代码-4" class="sidebar-link">编写代码</a></li><li class="sidebar-sub-header level3"><a href="/pages/GoTour/004/#运行代码-3" class="sidebar-link">运行代码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#结论" class="sidebar-link">结论</a></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#建议的下一个主题" class="sidebar-link">建议的下一个主题</a></li><li class="sidebar-sub-header level2"><a href="/pages/GoTour/004/#已完成代码" class="sidebar-link">已完成代码</a></li></ul></li><li><a href="/pages/GoTour/005/" class="sidebar-link">使用Go开发Web应用程序</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python-PyAutoGui文档中文翻译</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/python/PyAutoGui/001/" class="sidebar-link">01.Windows11下PyAutoGui的安装和使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>微软UIAutomation文档翻译.md</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/Microsoft/UIAutomation/000/" class="sidebar-link">UI自动化课程简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>openpyxl文档中文翻译.md</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/Python/openpyxlDoc/000/" class="sidebar-link">openpyxl文档中文翻译</a></li><li><a href="/pages/720440/" class="sidebar-link">课程·安装</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><span data-v-06970110>中文翻译</span></li><li data-v-06970110><span data-v-06970110>Go语言文档中文翻译</span></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://qingshansima.github.io" target="_blank" title="作者" class="beLink" data-v-06970110>飞翔的土肥猿</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-04-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">教程：使用Go和Gin开发RESTful API<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><p>本教程介绍了使用 Go 和 Gin Web Framework（Gin）编写 RESTful web 服务 API 的基本知识。</p> <p>如果您对 Go 及其工具有基本的熟悉，您将充分利用本教程。如果这是你第一次接触 Go 语言，请参阅教程：<a href="/pages/GoTour/000/">快速入门</a>。</p> <p>Gin 简化了许多与构建 web 应用程序（包括 web 服务）相关的编码任务。在本教程中，您将使用 Gin 来创建路由请求、检索请求详细信息，并为响应封送 JSON。</p> <p>在本教程中，您将构建一个具有两个端点的 RESTful API 服务器。您的示例项目将是一个关于老式爵士乐唱片的数据存储库。</p> <p>本教程包括以下部分：</p> <ul><li>设计 API 接口。</li> <li>为您的代码创建一个文件夹。</li> <li>创建数据。</li> <li>编写一个处理程序以返回所有项。</li> <li>编写一个处理程序来添加一个新项。</li> <li>编写一个处理程序以返回特定项。</li></ul> <blockquote><p>注意：有关其他相关知识，请参见<a href="/pages/GoTour/000/">教程</a>。</p></blockquote> <h2 id="课程准备"><a href="#课程准备" class="header-anchor">#</a> 课程准备</h2> <p>Go 1.16 或更高版本的安装。有关安装说明，请参阅<a href="/pages/GoTour/001/">安装 Go</a>。</p> <p>用于编辑代码的工具。您拥有的任何文本编辑器都可以正常工作。</p> <p>一种命令终端。Go 在 Linux 和 Mac 上以及 Windows 中的 PowerShell 或 cmd 上使用任何终端都能很好地工作。</p> <p>cUrl 工具。在 Linux 和 Mac 上，应该已经安装了。在 Windows 上，它包含在 Windows 10 Insider 版本 17063 及更高版本中。对于早期的 Windows 版本，您可能需要安装它。有关更多信息，请参阅<a href="https://learn.microsoft.com/en-us/virtualization/community/team-blog/2017/20171219-tar-and-curl-come-to-windows" target="_blank" rel="noopener noreferrer">Tar And Curl Come to Windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="api-接口设计"><a href="#api-接口设计" class="header-anchor">#</a> API 接口设计</h2> <p>您将构建一个 API，该 API 可以访问一家出售老式黑胶唱片的商店。因此，您需要提供接口，客户端可以通过这些接口为用户获取和添加相册。</p> <p>在开发 API 时，通常从设计接口开始。如果接口易于理解，那么 API 的用户将获得更大的成功。</p> <p>以下是您将在本教程中创建的接口。</p> <ol><li><p>/albums</p> <ol><li>GET–获取所有相册的列表，以 JSON 形式返回。</li> <li>POST–从以 JSON 形式发送的请求数据中添加新相册。</li></ol></li> <li><p>/albums/{id}</p> <ol><li>GET–通过相册 ID 获取相册，并以 JSON 形式返回相册数据。</li></ol></li></ol> <p>接下来，您将为代码创建一个文件夹。</p> <h2 id="为代码创建文件夹"><a href="#为代码创建文件夹" class="header-anchor">#</a> 为代码创建文件夹</h2> <p>首先，为您将要编写的代码创建一个项目。</p> <ol><li>打开命令提示符并更改到主目录。</li></ol> <p>在 Linux 或 Mac 上：</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span>
</code></pre></div><p>在 Windows 上：</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> %HOMEPATH%
</code></pre></div><ol start="2"><li>使用命令提示符，为代码创建一个名为 web-service-gin 的目录。</li></ol> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> web-service-gin
<span class="token builtin class-name">cd</span> web-service-gin
</code></pre></div><p>创建一个可以在其中管理依赖关系的模块。</p> <p>运行 go-mod-init 命令，为其提供代码所在模块的路径。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>$ go mod init example.com/web-service-gin
go: creating new go.mod: module example.com/web-service-gin
</code></pre></div><p>此命令创建一个 go.mod 文件，您添加的依赖项将列在该文件中进行跟踪。有关详细信息，请参阅<a href="http://docscn.studygolang.com/doc/modules/managing-dependencies" target="_blank" rel="noopener noreferrer">管理依赖关系<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>接下来，您将设计用于处理数据的数据结构。</p> <h2 id="创建数据"><a href="#创建数据" class="header-anchor">#</a> 创建数据</h2> <p>为了使教程保持简单，您将把数据存储在内存中。更深层课程的 API 将与数据库进行交互。</p> <p>请注意，将数据存储在内存中意味着每次停止服务器时，相册集都会丢失，然后在启动服务器时重新创建。</p> <h3 id="编写代码"><a href="#编写代码" class="header-anchor">#</a> 编写代码</h3> <ol><li><p>使用文本编辑器，在 web 服务目录中创建一个名为 main.go 的文件。您将在该文件中编写 Go 代码。</p></li> <li><p>在 main.go 文件的顶部，粘贴以下包声明。</p></li></ol> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
</code></pre></div><p>独立程序（与库相对）始终位于程序包主目录中。</p> <ol start="3"><li>在包声明下面，使用以下代码来定义 相册 的 struct 数据结构。您将使用它将相册数据存储在内存中。</li></ol> <p>struct 标记，如 json:“artist”，指定当结构的内容被序列化为 json 时，字段的名称应该是什么。如果没有它们，JSON 将使用结构的大写字段名——这种风格在 JSON 中并不常见。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">// album represents data about a record album.</span>
<span class="token keyword">type</span> album <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID     <span class="token builtin">string</span>  <span class="token string">`json:&quot;id&quot;`</span>
    Title  <span class="token builtin">string</span>  <span class="token string">`json:&quot;title&quot;`</span>
    Artist <span class="token builtin">string</span>  <span class="token string">`json:&quot;artist&quot;`</span>
    Price  <span class="token builtin">float64</span> <span class="token string">`json:&quot;price&quot;`</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>在刚添加的结构声明下面，粘贴下面的相册结构片段，其中包含将用于启动的数据。</li></ol> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">// albums slice to seed record album data.</span>
<span class="token keyword">var</span> albums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>album<span class="token punctuation">{</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Blue Train&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;John Coltrane&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">56.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Jeru&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;Gerry Mulligan&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">17.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Sarah Vaughan and Clifford Brown&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;Sarah Vaughan&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">39.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接下来，您将编写代码来实现您的第一个接口。</p> <h2 id="编写处理程序以返回所有项目"><a href="#编写处理程序以返回所有项目" class="header-anchor">#</a> 编写处理程序以返回所有项目</h2> <p>当客户端在 GET/albums 上发出请求时，您希望以 JSON 的形式返回所有相册。</p> <p>为此，您将编写以下内容：</p> <ul><li>准备响应的逻辑</li> <li>将请求路径映射到逻辑的代码</li></ul> <blockquote><p>请注意，这与它们在运行时的执行方式相反，但您要先添加依赖项，然后添加依赖于它们的代码。</p></blockquote> <h3 id="编写代码-2"><a href="#编写代码-2" class="header-anchor">#</a> 编写代码</h3> <ol><li>在上一节中添加的结构代码下面，粘贴以下代码以获得相册列表。</li></ol> <p>这个 getAlbums 方法从相册结构的切片中创建 JSON，并将 JSON 写入响应中。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">// getAlbums responds with the list of all albums as JSON.</span>
<span class="token keyword">func</span> <span class="token function">getAlbums</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> albums<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li>编写一个获取 gin.Context 参数的 getAlbums 函数。请注意，您可以给这个函数取任何名称——Gin 和 Go 都不需要特定的函数名称格式。</li> <li>gin.Contex 是代码最重要的部分。它携带请求细节、验证和序列化 JSON 等等。（尽管名称相似，但这与 Go 的内置上下文包不同。）</li> <li>调用 Context.IndetedJSON 将结构序列化为 JSON 并将其添加到响应中。</li> <li>函数的第一个参数是要发送到客户端的 HTTP 状态代码。在这里，您从 net/http 包传递 StatusOK 常量，以指示 200 OK。
<blockquote><p>请注意，您可以将 Context.IndetedJSON 替换为对 Context.JSON 的调用，以发送更紧凑的 JSON。在实践中，缩进形式在调试时更容易使用，并且大小差异通常很小。</p></blockquote></li></ul> <ol start="2"><li>在 main.go 的顶部附近，就在相册切片声明的下方，粘贴下面的代码，将处理程序函数分配给端点路径。</li></ol> <p>这将建立一个关联，getAlbums 在该关联中处理对/albums 端点路径的请求。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> getAlbums<span class="token punctuation">)</span>

    router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li>使用 Default 方法初始化 Gin 路由器。</li> <li>使用 GET 方式将 GET HTTP 方法和/相册路径与处理程序函数相关联。
<blockquote><p>请注意，您正在传递 getAlbums 函数的名称。这与传递函数的结果不同，后者是通过传递 getAlbums（）来实现的（注意括号）。</p></blockquote></li> <li>使用 Run 方法将路由器连接到 http.Server 并启动服务器。</li></ul> <ol start="3"><li>在 main.go 的顶部附近，就在包声明的下方，导入您需要支持刚刚编写的代码的包。</li></ol> <p>第一行代码应该如下所示：</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;net/http&quot;</span>

    <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>保存 main.go 文件</li></ol> <h3 id="运行代码"><a href="#运行代码" class="header-anchor">#</a> 运行代码</h3> <ol><li>开始将 Gin 模块作为依赖项进行跟踪。</li></ol> <p>在命令行中，使用 go-get 添加 github.com/gin-gonic/gin 模块作为模块的依赖项。使用句点参数表示“获取当前目录中代码的依赖项”</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>$ go get <span class="token builtin class-name">.</span>
go get: added github.com/gin-gonic/gin v1.7.2
</code></pre></div><p>Go 解析并下载了此依赖项，以满足您在上一步中添加的导入声明。</p> <ol start="2"><li>在包含 main.go 的目录中的命令行中，运行代码。使用句点参数表示“在当前目录中运行代码”</li></ol> <div class="language-Shell extra-class"><pre class="language-shell"><code>go run <span class="token builtin class-name">.</span>
</code></pre></div><p>代码运行后，您就有了一个正在运行的 HTTP 服务器，可以向该服务器发送请求。</p> <ol start="3"><li>在一个新的命令行窗口中，使用 curl 向正在运行的 web 服务发出请求。</li></ol> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span> http://localhost:8080/albums
</code></pre></div><p>该命令应显示为服务原始设定的数据。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
                <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
                <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Blue Train&quot;</span>,
                <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;John Coltrane&quot;</span>,
                <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">56.99</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
                <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>,
                <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Jeru&quot;</span>,
                <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Gerry Mulligan&quot;</span>,
                <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">17.99</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
                <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;3&quot;</span>,
                <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Sarah Vaughan and Clifford Brown&quot;</span>,
                <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Sarah Vaughan&quot;</span>,
                <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">39.99</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>您已经启动了一个 API！在下一节中，您将创建另一个端点，其中包含处理 POST 请求以添加项目的代码。</p> <h2 id="编写处理程序以添加新项"><a href="#编写处理程序以添加新项" class="header-anchor">#</a> 编写处理程序以添加新项</h2> <p>当客户端在/相册上发出 POST 请求时，您希望将请求正文中描述的相册添加到现有相册数据中。</p> <p>为此，您将编写以下内容：</p> <ul><li>将新相册添加到现有列表的逻辑。</li> <li>将 POST 请求路由到您的逻辑的一段代码。</li></ul> <h3 id="编写代码-3"><a href="#编写代码-3" class="header-anchor">#</a> 编写代码</h3> <ol><li>添加代码以将相册数据添加到相册列表中。</li></ol> <p>在 import 语句之后的某个位置，粘贴以下代码。（文件的末尾是编写这段代码的好地方，但 Go 并没有强制执行声明函数的顺序。）</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token comment">// postAlbums adds an album from JSON received in the request body.</span>
<span class="token keyword">func</span> <span class="token function">postAlbums</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> newAlbum album

    <span class="token comment">// Call BindJSON to bind the received JSON to</span>
    <span class="token comment">// newAlbum.</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">BindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newAlbum<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Add the new album to the slice.</span>
    albums <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>albums<span class="token punctuation">,</span> newAlbum<span class="token punctuation">)</span>
    c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusCreated<span class="token punctuation">,</span> newAlbum<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li>使用 Context.BindJSON 将请求正文绑定到 newAlbum。</li> <li>将从 JSON 初始化的相册结构附加到相册切片。</li> <li>在响应中添加一个 201 状态代码，以及表示您添加的相册的 JSON。</li></ul> <ol start="2"><li>更改主函数，使其包含 router.POST 函数，如下所示。</li></ol> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> getAlbums<span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> postAlbums<span class="token punctuation">)</span>

    router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li>将/albums 路径上的 POST 方法与 postAlbums 函数相关联。</li> <li>使用 Gin，您可以将处理程序与 HTTP 方法和路径组合相关联。通过这种方式，您可以根据客户端使用的方法将发送到单个路径的请求单独路由。</li></ul> <h3 id="运行代码-2"><a href="#运行代码-2" class="header-anchor">#</a> 运行代码</h3> <ol><li><p>如果服务器仍在从最后一部分运行，请停止它。</p></li> <li><p>在包含 main.go 的目录中的命令行中，运行代码。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token variable">$go</span> run <span class="token builtin class-name">.</span>
</code></pre></div></li> <li><p>从另一个命令行窗口，使用 curl 向正在运行的 web 服务发出请求。</p></li></ol> <div class="language-Shell extra-class"><pre class="language-shell"><code>    <span class="token function">curl</span> http://localhost:8080/albums <span class="token punctuation">\</span>
    <span class="token parameter variable">--include</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--header</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--request</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--data</span> <span class="token string">'{&quot;id&quot;: &quot;4&quot;,&quot;title&quot;: &quot;The Modern Sound of Betty Carter&quot;,&quot;artist&quot;: &quot;Betty Carter&quot;,&quot;price&quot;: 49.99}'</span>
</code></pre></div><p>该命令应该为添加的相册显示标题和 JSON。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>    HTTP/1.1 <span class="token number">201</span> Created
    Content-Type: application/json<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>utf-8
    Date: Wed, 02 Jun <span class="token number">2021</span> 00:34:12 GMT
    Content-Length: <span class="token number">116</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;4&quot;</span>,
        <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;The Modern Sound of Betty Carter&quot;</span>,
        <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Betty Carter&quot;</span>,
        <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">49.99</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>与上一节一样，使用 curl 检索相册的完整列表，您可以使用该列表来确认是否添加了新相册。</li></ol> <div class="language-Shell extra-class"><pre class="language-shell"><code>    <span class="token function">curl</span> http://localhost:8080/albums <span class="token punctuation">\</span>
    <span class="token parameter variable">--header</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--request</span> <span class="token string">&quot;GET&quot;</span>
</code></pre></div><p>该命令应显示相册列表。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>    <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                    <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
                    <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Blue Train&quot;</span>,
                    <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;John Coltrane&quot;</span>,
                    <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">56.99</span>
            <span class="token punctuation">}</span>,
            <span class="token punctuation">{</span>
                    <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>,
                    <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Jeru&quot;</span>,
                    <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Gerry Mulligan&quot;</span>,
                    <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">17.99</span>
            <span class="token punctuation">}</span>,
            <span class="token punctuation">{</span>
                    <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;3&quot;</span>,
                    <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Sarah Vaughan and Clifford Brown&quot;</span>,
                    <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Sarah Vaughan&quot;</span>,
                    <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">39.99</span>
            <span class="token punctuation">}</span>,
            <span class="token punctuation">{</span>
                    <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;4&quot;</span>,
                    <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;The Modern Sound of Betty Carter&quot;</span>,
                    <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Betty Carter&quot;</span>,
                    <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">49.99</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
</code></pre></div><p>在下一节中，您将添加代码来处理特定项目的 GET。</p> <h2 id="编写处理程序以返回特定项"><a href="#编写处理程序以返回特定项" class="header-anchor">#</a> 编写处理程序以返回特定项</h2> <p>当客户端请求 GET/albums/[id]时，您希望返回 id 与 id 路径参数匹配的相册。</p> <p>为此，您将：</p> <ul><li>添加逻辑以检索请求的相册。</li> <li>将路径映射到逻辑。</li></ul> <h3 id="编写代码-4"><a href="#编写代码-4" class="header-anchor">#</a> 编写代码</h3> <p>在上一节中添加的 postAlbums 函数下面，粘贴以下代码以检索特定的相册。</p> <p>此 getAlbumByID 函数将提取请求路径中的 ID，然后找到匹配的相册。</p> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token comment">// getAlbumByID locates the album whose ID value matches the id</span>
    <span class="token comment">// parameter sent by the client, then returns that album as a response.</span>
    <span class="token keyword">func</span> <span class="token function">getAlbumByID</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        id <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>

        <span class="token comment">// Loop over the list of albums, looking for</span>
        <span class="token comment">// an album whose ID value matches the parameter.</span>
        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> a <span class="token operator">:=</span> <span class="token keyword">range</span> albums <span class="token punctuation">{</span>
            <span class="token keyword">if</span> a<span class="token punctuation">.</span>ID <span class="token operator">==</span> id <span class="token punctuation">{</span>
                c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;album not found&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li><p>使用 Context.Param 从 URL 中检索 id 路径参数。将此处理程序映射到路径时，将在路径中包含参数的占位符。</p></li> <li><p>循环遍历切片中的相册结构，查找 ID 字段值与 ID 参数值匹配的结构。如果找到了，则将该相册结构序列化为 JSON，并将其作为响应返回，并返回一个 200 OK 的 HTTP 代码。</p> <blockquote><p>如上所述，真实世界的服务可能会使用数据库查询来执行此查找。</p></blockquote></li> <li><p>如果找不到相册，则返回 HTTP.StatusNotFound 的 HTTP 404 错误。</p></li></ul> <ol start="2"><li>最后，更改 main，使其包含一个对 router.GET 的新调用，其中的路径现在是/albums/：id，如以下示例所示。</li></ol> <div class="language-Go extra-class"><pre class="language-go"><code>    <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> getAlbums<span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums/:id&quot;</span><span class="token punctuation">,</span> getAlbumByID<span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> postAlbums<span class="token punctuation">)</span>

        router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:8080&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>在此代码中，您：</p> <ul><li>将/albums/：id 路径与 getAlbumByID 函数相关联。在 Gin 中，路径中项目前面的冒号表示该项目是一个路径参数。</li></ul> <h3 id="运行代码-3"><a href="#运行代码-3" class="header-anchor">#</a> 运行代码</h3> <p>如果服务器仍在从最后一部分运行，请停止它。</p> <p>在包含 main.go 的目录中的命令行中，运行代码以启动服务器。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token variable">$go</span> run <span class="token builtin class-name">.</span>
</code></pre></div><p>从另一个命令行窗口，使用 curl 向正在运行的 web 服务发出请求。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span> http://localhost:8080/albums/2
</code></pre></div><p>该命令应该显示您使用其 ID 的相册的 JSON。如果没有找到相册，您将得到带有错误消息的 JSON。</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token punctuation">{</span>
        <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>,
        <span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Jeru&quot;</span>,
        <span class="token string">&quot;artist&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Gerry Mulligan&quot;</span>,
        <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">17.99</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="结论"><a href="#结论" class="header-anchor">#</a> 结论</h2> <p>祝贺您刚刚使用 Go 和 Gin 编写了一个简单的 RESTful web 服务。</p> <h2 id="建议的下一个主题"><a href="#建议的下一个主题" class="header-anchor">#</a> 建议的下一个主题</h2> <ul><li>如果你是 Go 新手，你会在<a href="http://docscn.studygolang.com/doc/effective_go" target="_blank" rel="noopener noreferrer">Effective Go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="http://docscn.studygolang.com/doc/code" target="_blank" rel="noopener noreferrer">How to write Go code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中找到有用的最佳实践。</li> <li><a href="https://tour.golang.org/welcome/1" target="_blank" rel="noopener noreferrer">Go Tour<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是对 Go 基础知识的一个很好的循序渐进的介绍。</li> <li>有关 Gin 的更多信息，请参阅<a href="https://pkg.go.dev/github.com/gin-gonic/gin" target="_blank" rel="noopener noreferrer">Gin Web Framework package documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>文档或<a href="https://gin-gonic.com/docs/" target="_blank" rel="noopener noreferrer">Gin Web Framework docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>文档。</li></ul> <h2 id="已完成代码"><a href="#已完成代码" class="header-anchor">#</a> 已完成代码</h2> <p>本节包含使用本教程构建的应用程序的代码。</p> <div class="language-Go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;net/http&quot;</span>

    <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// album represents data about a record album.</span>
<span class="token keyword">type</span> album <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID     <span class="token builtin">string</span>  <span class="token string">`json:&quot;id&quot;`</span>
    Title  <span class="token builtin">string</span>  <span class="token string">`json:&quot;title&quot;`</span>
    Artist <span class="token builtin">string</span>  <span class="token string">`json:&quot;artist&quot;`</span>
    Price  <span class="token builtin">float64</span> <span class="token string">`json:&quot;price&quot;`</span>
<span class="token punctuation">}</span>

<span class="token comment">// albums slice to seed record album data.</span>
<span class="token keyword">var</span> albums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>album<span class="token punctuation">{</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Blue Train&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;John Coltrane&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">56.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Jeru&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;Gerry Mulligan&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">17.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;Sarah Vaughan and Clifford Brown&quot;</span><span class="token punctuation">,</span> Artist<span class="token punctuation">:</span> <span class="token string">&quot;Sarah Vaughan&quot;</span><span class="token punctuation">,</span> Price<span class="token punctuation">:</span> <span class="token number">39.99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> getAlbums<span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/albums/:id&quot;</span><span class="token punctuation">,</span> getAlbumByID<span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> postAlbums<span class="token punctuation">)</span>

    router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// getAlbums responds with the list of all albums as JSON.</span>
<span class="token keyword">func</span> <span class="token function">getAlbums</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> albums<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// postAlbums adds an album from JSON received in the request body.</span>
<span class="token keyword">func</span> <span class="token function">postAlbums</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> newAlbum album

    <span class="token comment">// Call BindJSON to bind the received JSON to</span>
    <span class="token comment">// newAlbum.</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">BindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newAlbum<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Add the new album to the slice.</span>
    albums <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>albums<span class="token punctuation">,</span> newAlbum<span class="token punctuation">)</span>
    c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusCreated<span class="token punctuation">,</span> newAlbum<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// getAlbumByID locates the album whose ID value matches the id</span>
<span class="token comment">// parameter sent by the client, then returns that album as a response.</span>
<span class="token keyword">func</span> <span class="token function">getAlbumByID</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// Loop through the list of albums, looking for</span>
    <span class="token comment">// an album whose ID value matches the parameter.</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> a <span class="token operator">:=</span> <span class="token keyword">range</span> albums <span class="token punctuation">{</span>
        <span class="token keyword">if</span> a<span class="token punctuation">.</span>ID <span class="token operator">==</span> id <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;album not found&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div>  <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/GoTour/003/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Go模块教程</div></a> <a href="/pages/GoTour/005/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">使用Go开发Web应用程序</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/GoTour/003/" class="prev">Go模块教程</a></span> <span class="next"><a href="/pages/GoTour/005/">使用Go开发Web应用程序</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:qingshansima@outlook.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qingshansima" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
    Copyright © 2024-2023
    <span>飞翔的土肥猿 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7d1116cd.js" defer></script><script src="/assets/js/2.f6c26bfc.js" defer></script><script src="/assets/js/3.7a437186.js" defer></script><script src="/assets/js/22.bf514554.js" defer></script>
  </body>
</html>
