<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MyBatis面试高频问题1~18 | 土肥猿的面经园地</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="程序员的面经园地和知识仓库">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.8a73fe64.css" as="style"><link rel="preload" href="/assets/js/app.7d1116cd.js" as="script"><link rel="preload" href="/assets/js/2.f6c26bfc.js" as="script"><link rel="preload" href="/assets/js/3.7a437186.js" as="script"><link rel="preload" href="/assets/js/8.71593ea4.js" as="script"><link rel="prefetch" href="/assets/js/10.046d08d1.js"><link rel="prefetch" href="/assets/js/11.5c5abcc8.js"><link rel="prefetch" href="/assets/js/12.f62d9829.js"><link rel="prefetch" href="/assets/js/13.4da237a9.js"><link rel="prefetch" href="/assets/js/14.48133eb7.js"><link rel="prefetch" href="/assets/js/15.48a2e085.js"><link rel="prefetch" href="/assets/js/16.81c035c3.js"><link rel="prefetch" href="/assets/js/17.5efa7f95.js"><link rel="prefetch" href="/assets/js/18.86e07264.js"><link rel="prefetch" href="/assets/js/19.2c2a487d.js"><link rel="prefetch" href="/assets/js/20.c4ffcb54.js"><link rel="prefetch" href="/assets/js/21.51a48402.js"><link rel="prefetch" href="/assets/js/22.bf514554.js"><link rel="prefetch" href="/assets/js/23.d4182788.js"><link rel="prefetch" href="/assets/js/24.4dbd20f7.js"><link rel="prefetch" href="/assets/js/25.700af0f5.js"><link rel="prefetch" href="/assets/js/26.ae7d5d12.js"><link rel="prefetch" href="/assets/js/27.1d660e1f.js"><link rel="prefetch" href="/assets/js/28.e301b416.js"><link rel="prefetch" href="/assets/js/29.0fd72cb1.js"><link rel="prefetch" href="/assets/js/30.63cb3594.js"><link rel="prefetch" href="/assets/js/31.e64cb78c.js"><link rel="prefetch" href="/assets/js/32.fe425a1c.js"><link rel="prefetch" href="/assets/js/33.27558bfc.js"><link rel="prefetch" href="/assets/js/34.d0b64862.js"><link rel="prefetch" href="/assets/js/4.9ccfb5d5.js"><link rel="prefetch" href="/assets/js/5.573dfa2c.js"><link rel="prefetch" href="/assets/js/6.655bfde6.js"><link rel="prefetch" href="/assets/js/7.babcfb3d.js"><link rel="prefetch" href="/assets/js/9.b9ccbf27.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a73fe64.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/FatMonkey550.png" alt="土肥猿的面经园地" class="logo"> <span class="site-name can-hide">土肥猿的面经园地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经园地" class="dropdown-title"><a href="/pages/b5188c/" class="link-title">面经园地</a> <span class="title" style="display:none;">面经园地</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/java/001/" class="nav-link">Java基础面试高频问题1~80</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/002/" class="nav-link">Spring面试高频问题1~10</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/003/" aria-current="page" class="nav-link router-link-exact-active router-link-active">MyBatis面试高频问题1~18</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/004/" class="nav-link">Java架构师面试高频问题</a></li></ul></li><li class="dropdown-item"><h4>Dotnet</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DotNet/001/" class="nav-link">Dotnet面试题汇总1</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DB/001/" class="nav-link">Oracle面试题1-33</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发笔记" class="dropdown-title"><a href="/pages/43f8ea/" class="link-title">开发笔记</a> <span class="title" style="display:none;">开发笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/43f8ea/" class="nav-link">面向对象设计五大原则</a></li><li class="dropdown-subitem"><a href="/pages/e08693/" class="nav-link">微服务常用组件</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/java/001/" class="nav-link">Java常用中间件</a></li><li class="dropdown-subitem"><a href="/pages/Notes/java/002/" class="nav-link">Java常用工作流</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/Python/miniServer/000/" class="nav-link">面向测试方法开发Python微服务</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中文翻译" class="dropdown-title"><!----> <span class="title" style="display:;">中文翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/GoTour/000/" class="nav-link">序言和目录</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/001/" class="nav-link">Go语言的下载和安装</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/002/" class="nav-link">Go语言入门教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/003/" class="nav-link">Go模块教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/004/" class="nav-link">使用Go和Gin开发RESTful API</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/005/" class="nav-link">使用Go开发Web应用程序</a></li></ul></li><li class="dropdown-item"><h4>Python-PyAutoGui文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/python/PyAutoGui/001/" class="nav-link">1.Windows11下PyAutoGui的安装和使用</a></li></ul></li><li class="dropdown-item"><h4>微软UI自动化文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Microsoft/UIAutomation/000/" class="nav-link">UI自动化课程简介</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="职场随笔" class="dropdown-title"><a href="/pages/893e69/" class="link-title">职场随笔</a> <span class="title" style="display:none;">职场随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>失业笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day000/" class="nav-link">2003清明，失业第0天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day001/" class="nav-link">2003-04-06，失业第一周·第1天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day002/" class="nav-link">2003-04-07，失业第一周·第2天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day003/" class="nav-link">2003-04-08~09，失业第一周·双休</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day004/" class="nav-link">2003-04-08~09，失业第二周·第1天</a></li></ul></li></ul></div></div> <a href="https://github.com/qingshansima/qingshansima.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经园地" class="dropdown-title"><a href="/pages/b5188c/" class="link-title">面经园地</a> <span class="title" style="display:none;">面经园地</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/java/001/" class="nav-link">Java基础面试高频问题1~80</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/002/" class="nav-link">Spring面试高频问题1~10</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/003/" aria-current="page" class="nav-link router-link-exact-active router-link-active">MyBatis面试高频问题1~18</a></li><li class="dropdown-subitem"><a href="/pages/interView/java/004/" class="nav-link">Java架构师面试高频问题</a></li></ul></li><li class="dropdown-item"><h4>Dotnet</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DotNet/001/" class="nav-link">Dotnet面试题汇总1</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/interView/DB/001/" class="nav-link">Oracle面试题1-33</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发笔记" class="dropdown-title"><a href="/pages/43f8ea/" class="link-title">开发笔记</a> <span class="title" style="display:none;">开发笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/43f8ea/" class="nav-link">面向对象设计五大原则</a></li><li class="dropdown-subitem"><a href="/pages/e08693/" class="nav-link">微服务常用组件</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/java/001/" class="nav-link">Java常用中间件</a></li><li class="dropdown-subitem"><a href="/pages/Notes/java/002/" class="nav-link">Java常用工作流</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Notes/Python/miniServer/000/" class="nav-link">面向测试方法开发Python微服务</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中文翻译" class="dropdown-title"><!----> <span class="title" style="display:;">中文翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/GoTour/000/" class="nav-link">序言和目录</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/001/" class="nav-link">Go语言的下载和安装</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/002/" class="nav-link">Go语言入门教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/003/" class="nav-link">Go模块教程</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/004/" class="nav-link">使用Go和Gin开发RESTful API</a></li><li class="dropdown-subitem"><a href="/pages/GoTour/005/" class="nav-link">使用Go开发Web应用程序</a></li></ul></li><li class="dropdown-item"><h4>Python-PyAutoGui文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/python/PyAutoGui/001/" class="nav-link">1.Windows11下PyAutoGui的安装和使用</a></li></ul></li><li class="dropdown-item"><h4>微软UI自动化文档中文翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/Microsoft/UIAutomation/000/" class="nav-link">UI自动化课程简介</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="职场随笔" class="dropdown-title"><a href="/pages/893e69/" class="link-title">职场随笔</a> <span class="title" style="display:none;">职场随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>失业笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day000/" class="nav-link">2003清明，失业第0天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day001/" class="nav-link">2003-04-06，失业第一周·第1天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day002/" class="nav-link">2003-04-07，失业第一周·第2天</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day003/" class="nav-link">2003-04-08~09，失业第一周·双休</a></li><li class="dropdown-subitem"><a href="/pages/unemploymentLog/Day004/" class="nav-link">2003-04-08~09，失业第二周·第1天</a></li></ul></li></ul></div></div> <a href="https://github.com/qingshansima/qingshansima.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sidebar-slot sidebar-slot-top">
  <a href="http://apifox.cn/a103xugaoyi" target="_blank">
    <img src="https://cdn.staticaly.com/gh/xugaoyi/blog-gitalk-comment@master/img/431669861564_.2470ykdcpbds.jpg" alt="npm" class="no-zoom" style="width: 100%;border-radius: 2px;">
    <p style="text-align: center;margin: 0;color: #999;font-size: 12px;">(进入注册为作者充电)</p>
  </a></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/interView/java/001/" class="sidebar-link">Java基础面试高频问题1~80</a></li><li><a href="/pages/interView/java/002/" class="sidebar-link">Spring面试高频问题1~10</a></li><li><a href="/pages/interView/java/003/" aria-current="page" class="active sidebar-link">MyBatis面试高频问题1~18</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_1、-和-的区别是什么" class="sidebar-link">1、#{}和\${}的区别是什么？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_2、xml-映射文件中-除了常见的-select-insert-update-delete-标签之外-还有哪些标签" class="sidebar-link">2、Xml 映射文件中，除了常见的 select|insert|update|delete 标签之外，还有哪些标签？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_3、最佳实践中-通常一个-xml-映射文件-都会写一个-dao-接口与之对应-请问-这个-dao-接口的工作原理是什么-dao-接口里的方法-参数不同时-方法能重载吗" class="sidebar-link">3、最佳实践中，通常一个 Xml 映射文件，都会写一个 Dao 接口与之对应，请问，这个 Dao 接口的工作原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/interView/java/003/#补充" class="sidebar-link">==补充：==</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_4、mybatis-是如何进行分页的-分页插件的原理是什么" class="sidebar-link">4、MyBatis 是如何进行分页的？分页插件的原理是什么？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_5、简述-mybatis-的插件运行原理-以及如何编写一个插件" class="sidebar-link">5、简述 MyBatis 的插件运行原理，以及如何编写一个插件</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_6、mybatis-执行批量插入-能返回数据库主键列表吗" class="sidebar-link">6、MyBatis 执行批量插入，能返回数据库主键列表吗？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_7、mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理不" class="sidebar-link">7、MyBatis 动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql 的执行原理不？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_8、mybatis-是如何将-sql-执行结果封装为目标对象并返回的-都有哪些映射形式" class="sidebar-link">8、MyBatis 是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_9、mybatis-能执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别" class="sidebar-link">9、MyBatis 能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_10、mybatis-是否支持延迟加载-如果支持-它的实现原理是什么" class="sidebar-link">10、MyBatis 是否支持延迟加载？如果支持，它的实现原理是什么？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_11、mybatis-的-xml-映射文件中-不同的-xml-映射文件-id-是否可以重复" class="sidebar-link">11、MyBatis 的 Xml 映射文件中，不同的 Xml 映射文件，id 是否可以重复？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_12、mybatis-中如何执行批处理" class="sidebar-link">12、MyBatis 中如何执行批处理？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_13、mybatis-都有哪些-executor-执行器-它们之间的区别是什么" class="sidebar-link">13、MyBatis 都有哪些 Executor 执行器？它们之间的区别是什么？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_14、mybatis-中如何指定使用哪一种-executor-执行器" class="sidebar-link">14、MyBatis 中如何指定使用哪一种 Executor 执行器？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_15、mybatis-是否可以映射-enum-枚举类" class="sidebar-link">15、MyBatis 是否可以映射 Enum 枚举类？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_16、mybatis-映射文件中-如果-a-标签通过-include-引用了-b-标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在-a-标签的前面" class="sidebar-link">16、MyBatis 映射文件中，如果 A 标签通过 include 引用了 B 标签的内容，请问，B 标签能否定义在 A 标签的后面，还是说必须定义在 A 标签的前面？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_17、简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系" class="sidebar-link">17、简述 MyBatis 的 Xml 映射文件和 MyBatis 内部数据结构之间的映射关系？</a></li><li class="sidebar-sub-header level2"><a href="/pages/interView/java/003/#_18、为什么说-mybatis-是半自动-orm-映射工具-它与全自动的区别在哪里" class="sidebar-link">18、为什么说 MyBatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？</a></li></ul></li><li><a href="/pages/interView/java/004/" class="sidebar-link">Java架构师面试高频问题1~18</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>DotNet</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/interView/DotNet/001/" class="sidebar-link">DotNet面试题汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/interView/DB/001/" class="sidebar-link">Oracle面试题1~33</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><span data-v-06970110>面经园地</span></li><li data-v-06970110><span data-v-06970110>Java</span></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://qingshansima.github.io" target="_blank" title="作者" class="beLink" data-v-06970110>飞翔的土肥猿</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-04-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MyBatis面试高频问题1~18<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><blockquote><p>本文收集自网络，原出处不明。</p></blockquote> <h2 id="_1、-和-的区别是什么"><a href="#_1、-和-的区别是什么" class="header-anchor">#</a> 1、#{}和${}的区别是什么？</h2> <p>答：</p> <ul><li><code>${}</code>是 Properties 文件中的变量占位符，它可以用于标签属性值和 sql 内部，属于静态文本替换，比如${driver}会被静态替换为<code>com.mysql.jdbc. Driver</code>。</li> <li><code>#{}</code>是 sql 的参数占位符，MyBatis 会将 sql 中的<code>#{}</code>替换为? 号，在 sql 执行前会使用 PreparedStatement 的参数设置方法，按序给 sql 的? 号占位符设置参数值，比如 ps.setInt(0, parameterValue)，<code>#{item.name}</code> 的取值方式为使用反射从参数对象中获取 item 对象的 name 属性值，相当于 <code>param.getItem().getName()</code>。</li></ul> <h2 id="_2、xml-映射文件中-除了常见的-select-insert-update-delete-标签之外-还有哪些标签"><a href="#_2、xml-映射文件中-除了常见的-select-insert-update-delete-标签之外-还有哪些标签" class="header-anchor">#</a> 2、Xml 映射文件中，除了常见的 select|insert|update|delete 标签之外，还有哪些标签？</h2> <p>答：</p> <p>还有很多其他的标签， <code>&lt;resultMap&gt;</code> 、 <code>&lt;parameterMap&gt;</code> 、 <code>&lt;sql&gt;</code> 、 <code>&lt;include&gt;</code> 、 <code>&lt;selectKey&gt;</code> ，加上动态 sql 的 9 个标签， <code>trim|where|set|foreach|if|choose|when|otherwise|bind</code> 等，其中 <code>&lt;sql&gt;</code> 为 sql 片段标签，通过 <code>&lt;include&gt;</code> 标签引入 sql 片段， <code>&lt;selectKey&gt;</code> 为不支持自增的主键生成策略标签。</p> <h2 id="_3、最佳实践中-通常一个-xml-映射文件-都会写一个-dao-接口与之对应-请问-这个-dao-接口的工作原理是什么-dao-接口里的方法-参数不同时-方法能重载吗"><a href="#_3、最佳实践中-通常一个-xml-映射文件-都会写一个-dao-接口与之对应-请问-这个-dao-接口的工作原理是什么-dao-接口里的方法-参数不同时-方法能重载吗" class="header-anchor">#</a> 3、最佳实践中，通常一个 Xml 映射文件，都会写一个 Dao 接口与之对应，请问，这个 Dao 接口的工作原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？</h2> <p>答：</p> <p>Dao 接口，就是人们常说的 <code>Mapper</code> 接口，接口的全限名，就是映射文件中的 namespace 的值，接口的方法名，就是映射文件中 <code>MappedStatement</code> 的 id 值，接口方法内的参数，就是传递给 sql 的参数。 <code>Mapper</code> 接口是没有实现类的，当调用接口方法时，接口全限名+方法名拼接字符串作为 key 值，可唯一定位一个 <code>MappedStatement</code> ，举例： <code>com.mybatis3.mappers. StudentDao.findStudentById</code> ，可以唯一找到 namespace 为 <code>com.mybatis3.mappers. StudentDao</code> 下面 <code>id = findStudentById</code> 的 <code>MappedStatement</code> 。在 MyBatis 中，每一个 <code>&lt;select&gt;</code> 、 <code>&lt;insert&gt;</code> 、 <code>&lt;update&gt;</code> 、 <code>&lt;delete&gt;</code> 标签，都会被解析为一个 <code>MappedStatement</code> 对象。</p> <p>Dao 接口里的方法可以重载，但是 Mybatis 的 XML 里面的 ID 不允许重复。</p> <p>Mybatis 版本 3.3.0，亲测如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Mapper接口里面方法重载
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StuMapper</span> <span class="token punctuation">{</span>

 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllStu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllStu</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后在 <code>StuMapper.xml</code> 中利用 Mybatis 的动态 sql 就可以实现。</p> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllStu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.pojo.Student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   select * from student
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    id = #{id}
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>能正常运行，并能得到相应的结果，这样就实现了在 Dao 接口中写重载方法。</p> <p><strong>Mybatis 的 Dao 接口可以有多个重载方法，但是多个接口对应的映射必须只有一个，否则启动会报错。</strong></p> <p>相关 issue ：<a href="https://github.com/Snailclimb/JavaGuide/issues/1122" target="_blank" rel="noopener noreferrer">更正：Dao 接口里的方法可以重载，但是 Mybatis 的 XML 里面的 ID 不允许重复！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>Dao 接口的工作原理是 JDK 动态代理，MyBatis 运行时会使用 JDK 动态代理为 Dao 接口生成代理 proxy 对象，代理对象 proxy 会拦截接口方法，转而执行 <code>MappedStatement</code> 所代表的 sql，然后将 sql 执行结果返回。</p> <h3 id="补充"><a href="#补充" class="header-anchor">#</a> ==补充：==</h3> <p>Dao 接口方法可以重载，但是需要满足以下条件：</p> <ol><li>仅有一个无参方法和一个有参方法</li> <li>多个有参方法时，参数数量必须一致。且使用相同的 <code>@Param</code> ，或者使用 <code>param1</code> 这种</li></ol> <p>测试如下：</p> <p><code>PersonDao.java</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Person</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Person</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Person</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>PersonMapper.xml</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PersonMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select
      id, name, age, address
    from person
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            id = #{id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name != null and name != ''<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            name = #{name}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
    limit 1
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>org.apache.ibatis.scripting.xmltags. DynamicContext. ContextAccessor#getProperty</code> 方法用于获取 <code>&lt;if&gt;</code> 标签中的条件值</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">Map</span> context<span class="token punctuation">,</span> <span class="token class-name">Object</span> target<span class="token punctuation">,</span> <span class="token class-name">Object</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Map</span> map <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">)</span> target<span class="token punctuation">;</span>

  <span class="token class-name">Object</span> result <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">||</span> result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Object</span> parameterObject <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">PARAMETER_OBJECT_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parameterObject <span class="token keyword">instanceof</span> <span class="token class-name">Map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">)</span>parameterObject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>parameterObject</code> 为 map，存放的是 Dao 接口中参数相关信息。</p> <p><code>((Map)parameterObject).get(name)</code> 方法如下</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BindingException</span><span class="token punctuation">(</span><span class="token string">&quot;Parameter '&quot;</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot;' not found. Available parameters are &quot;</span> <span class="token operator">+</span> <span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li><code>queryById()</code>方法执行时，<code>parameterObject</code>为 null，<code>getProperty</code>方法返回 null 值，<code>&lt;if&gt;</code>标签获取的所有条件值都为 null，所有条件不成立，动态 sql 可以正常执行。</li> <li><code>queryById(1L)</code>方法执行时，<code>parameterObject</code>为 map，包含了<code>id</code>和<code>param1</code>两个 key 值。当获取<code>&lt;if&gt;</code>标签中<code>name</code>的属性值时，进入<code>((Map)parameterObject).get(name)</code>方法中，map 中 key 不包含<code>name</code>，所以抛出异常。</li> <li><code>queryById(1L,&quot;1&quot;)</code>方法执行时，<code>parameterObject</code>中包含<code>id</code>,<code>param1</code>,<code>name</code>,<code>param2</code>四个 key 值，<code>id</code>和<code>name</code>属性都可以获取到，动态 sql 正常执行。</li></ol> <h2 id="_4、mybatis-是如何进行分页的-分页插件的原理是什么"><a href="#_4、mybatis-是如何进行分页的-分页插件的原理是什么" class="header-anchor">#</a> 4、MyBatis 是如何进行分页的？分页插件的原理是什么？</h2> <p>答：</p> <p><strong>(1)</strong> MyBatis 使用 RowBounds 对象进行分页，它是针对 ResultSet 结果集执行的内存分页，而非物理分页；<strong>(2)</strong> 可以在 sql 内直接书写带有物理分页的参数来完成物理分页功能，<strong>(3)</strong> 也可以使用分页插件来完成物理分页。</p> <p>分页插件的基本原理是使用 MyBatis 提供的插件接口，实现自定义插件，在插件的拦截方法内拦截待执行的 sql，然后重写 sql，根据 dialect 方言，添加对应的物理分页语句和物理分页参数。</p> <p>举例： <code>select _ from student</code> ，拦截 sql 后重写为： <code>select t._ from （select \* from student）t limit 0，10</code></p> <h2 id="_5、简述-mybatis-的插件运行原理-以及如何编写一个插件"><a href="#_5、简述-mybatis-的插件运行原理-以及如何编写一个插件" class="header-anchor">#</a> 5、简述 MyBatis 的插件运行原理，以及如何编写一个插件</h2> <p>答：</p> <p>MyBatis 仅可以编写针对 <code>ParameterHandler</code> 、 <code>ResultSetHandler</code> 、 <code>StatementHandler</code> 、 <code>Executor</code> 这 4 种接口的插件，MyBatis 使用 JDK 的动态代理，为需要拦截的接口生成代理对象以实现接口方法拦截功能，每当执行这 4 种接口对象的方法时，就会进入拦截方法，具体就是 <code>InvocationHandler</code> 的 <code>invoke()</code> 方法，当然，只会拦截那些你指定需要拦截的方法。</p> <p>实现 MyBatis 的 Interceptor 接口并复写 <code>intercept()</code> 方法，然后在给插件编写注解，指定要拦截哪一个接口的哪些方法即可，记住，别忘了在配置文件中配置你编写的插件。</p> <h2 id="_6、mybatis-执行批量插入-能返回数据库主键列表吗"><a href="#_6、mybatis-执行批量插入-能返回数据库主键列表吗" class="header-anchor">#</a> 6、MyBatis 执行批量插入，能返回数据库主键列表吗？</h2> <p>答：</p> <p>能，JDBC 都能，MyBatis 当然也能。</p> <h2 id="_7、mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理不"><a href="#_7、mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理不" class="header-anchor">#</a> 7、MyBatis 动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql 的执行原理不？</h2> <p>答：</p> <p>MyBatis 动态 sql 可以让我们在 Xml 映射文件内，以标签的形式编写动态 sql，完成逻辑判断和动态拼接 sql 的功能，MyBatis 提供了 9 种动态 sql 标签 <code>trim|where|set|foreach|if|choose|when|otherwise|bind</code> 。</p> <p>其执行原理为，使用 OGNL 从 sql 参数对象中计算表达式的值，根据表达式的值动态拼接 sql，以此来完成动态 sql 的功能。</p> <h2 id="_8、mybatis-是如何将-sql-执行结果封装为目标对象并返回的-都有哪些映射形式"><a href="#_8、mybatis-是如何将-sql-执行结果封装为目标对象并返回的-都有哪些映射形式" class="header-anchor">#</a> 8、MyBatis 是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？</h2> <p>答：</p> <p>第一种是使用 <code>&lt;resultMap&gt;</code> 标签，逐一定义列名和对象属性名之间的映射关系。第二种是使用 sql 列的别名功能，将列别名书写为对象属性名，比如 T_NAME AS NAME，对象属性名一般是 name，小写，但是列名不区分大小写，MyBatis 会忽略列名大小写，智能找到与之对应对象属性名，你甚至可以写成 T_NAME AS NaMe，MyBatis 一样可以正常工作。</p> <p>有了列名与属性名的映射关系后，MyBatis 通过反射创建对象，同时使用反射给对象的属性逐一赋值并返回，那些找不到映射关系的属性，是无法完成赋值的。</p> <h2 id="_9、mybatis-能执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别"><a href="#_9、mybatis-能执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别" class="header-anchor">#</a> 9、MyBatis 能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别</h2> <p>答：</p> <p>关联对象查询，有两种实现方式，一种是单独发送一个 sql 去查询关联对象，赋给主对象，然后返回主对象。另一种是使用嵌套查询，嵌套查询的含义为使用 join 查询，一部分列是 A 对象的属性值，另外一部分列是关联对象 B 的属性值，好处是只发一个 sql 查询，就可以把主对象和其关联对象查出来。</p> <p>那么问题来了，join 查询出来 100 条记录，如何确定主对象是 5 个，而不是 100 个？其去重复的原理是 <code>&lt;resultMap&gt;</code> 标签内的 <code>&lt;id&gt;</code> 子标签，指定了唯一确定一条记录的 id 列，MyBatis 根据 <code>&lt;id&gt;</code> 列值来完成 100 条记录的去重复功能， <code>&lt;id&gt;</code> 可以有多个，代表了联合主键的语意。</p> <p>同样主对象的关联对象，也是根据这个原理去重复的，尽管一般情况下，只有主对象会有重复记录，关联对象一般不会重复。</p> <p>举例：下面 join 查询出来 6 条记录，一、二列是 Teacher 对象列，第三列为 Student 对象列，MyBatis 去重复处理后，结果为 1 个老师 6 个学生，而不是 6 个老师 6 个学生。</p> <table><thead><tr><th>t_id</th> <th>t_name</th> <th>s_id</th></tr></thead> <tbody><tr><td>1</td> <td>teacher</td> <td>38</td></tr> <tr><td>1</td> <td>teacher</td> <td>39</td></tr> <tr><td>1</td> <td>teacher</td> <td>40</td></tr> <tr><td>1</td> <td>teacher</td> <td>41</td></tr> <tr><td>1</td> <td>teacher</td> <td>42</td></tr> <tr><td>1</td> <td>teacher</td> <td>43</td></tr></tbody></table> <h2 id="_10、mybatis-是否支持延迟加载-如果支持-它的实现原理是什么"><a href="#_10、mybatis-是否支持延迟加载-如果支持-它的实现原理是什么" class="header-anchor">#</a> 10、MyBatis 是否支持延迟加载？如果支持，它的实现原理是什么？</h2> <p>答：</p> <p>MyBatis 仅支持 association 关联对象和 collection 关联集合对象的延迟加载，association 指的就是一对一，collection 指的就是一对多查询。在 MyBatis 配置文件中，可以配置是否启用延迟加载 <code>lazyLoadingEnabled=true|false。</code></p> <p>它的原理是，使用 <code>CGLIB</code> 创建目标对象的代理对象，当调用目标方法时，进入拦截器方法，比如调用 <code>a.getB().getName()</code> ，拦截器 <code>invoke()</code> 方法发现 <code>a.getB()</code> 是 null 值，那么就会单独发送事先保存好的查询关联 B 对象的 sql，把 B 查询上来，然后调用 a.setB(b)，于是 a 的对象 b 属性就有值了，接着完成 <code>a.getB().getName()</code> 方法的调用。这就是延迟加载的基本原理。</p> <p>当然了，不光是 MyBatis，几乎所有的包括 Hibernate，支持延迟加载的原理都是一样的。</p> <h2 id="_11、mybatis-的-xml-映射文件中-不同的-xml-映射文件-id-是否可以重复"><a href="#_11、mybatis-的-xml-映射文件中-不同的-xml-映射文件-id-是否可以重复" class="header-anchor">#</a> 11、MyBatis 的 Xml 映射文件中，不同的 Xml 映射文件，id 是否可以重复？</h2> <p>答：</p> <p>不同的 Xml 映射文件，如果配置了 namespace，那么 id 可以重复；如果没有配置 namespace，那么 id 不能重复；毕竟 namespace 不是必须的，只是最佳实践而已。</p> <p>原因就是 namespace+id 是作为 <code>Map&lt;String, MappedStatement&gt;</code> 的 key 使用的，如果没有 namespace，就剩下 id，那么，id 重复会导致数据互相覆盖。有了 namespace，自然 id 就可以重复，namespace 不同，namespace+id 自然也就不同。</p> <h2 id="_12、mybatis-中如何执行批处理"><a href="#_12、mybatis-中如何执行批处理" class="header-anchor">#</a> 12、MyBatis 中如何执行批处理？</h2> <p>答：</p> <p>使用 BatchExecutor 完成批处理。</p> <h2 id="_13、mybatis-都有哪些-executor-执行器-它们之间的区别是什么"><a href="#_13、mybatis-都有哪些-executor-执行器-它们之间的区别是什么" class="header-anchor">#</a> 13、MyBatis 都有哪些 Executor 执行器？它们之间的区别是什么？</h2> <p>答：</p> <p>MyBatis 有三种基本的 Executor 执行器，<strong><code>SimpleExecutor</code> 、 <code>ReuseExecutor</code> 、 <code>BatchExecutor</code> 。</strong></p> <p>**<code>SimpleExecutor</code> ：**每执行一次 update 或 select，就开启一个 Statement 对象，用完立刻关闭 Statement 对象。</p> <p>**<code>ReuseExecutor</code> ：**执行 update 或 select，以 sql 作为 key 查找 Statement 对象，存在就使用，不存在就创建，用完后，不关闭 Statement 对象，而是放置于 Map&lt;String, Statement&gt;内，供下一次使用。简言之，就是重复使用 Statement 对象。</p> <p>**<code>BatchExecutor</code> ：**执行 update（没有 select，JDBC 批处理不支持 select），将所有 sql 都添加到批处理中（addBatch()），等待统一执行（executeBatch()），它缓存了多个 Statement 对象，每个 Statement 对象都是 addBatch()完毕后，等待逐一执行 executeBatch()批处理。与 JDBC 批处理相同。</p> <p>作用范围：Executor 的这些特点，都严格限制在 SqlSession 生命周期范围内。</p> <h2 id="_14、mybatis-中如何指定使用哪一种-executor-执行器"><a href="#_14、mybatis-中如何指定使用哪一种-executor-执行器" class="header-anchor">#</a> 14、MyBatis 中如何指定使用哪一种 Executor 执行器？</h2> <p>答：</p> <p>在 MyBatis 配置文件中，可以指定默认的 ExecutorType 执行器类型，也可以手动给 <code>DefaultSqlSessionFactory</code> 的创建 SqlSession 的方法传递 ExecutorType 类型参数。</p> <h2 id="_15、mybatis-是否可以映射-enum-枚举类"><a href="#_15、mybatis-是否可以映射-enum-枚举类" class="header-anchor">#</a> 15、MyBatis 是否可以映射 Enum 枚举类？</h2> <p>答：</p> <p>MyBatis 可以映射枚举类，不单可以映射枚举类，MyBatis 可以映射任何对象到表的一列上。映射方式为自定义一个 <code>TypeHandler</code> ，实现 <code>TypeHandler</code> 的 <code>setParameter()</code> 和 <code>getResult()</code> 接口方法。 <code>TypeHandler</code> 有两个作用，一是完成从 javaType 至 jdbcType 的转换，二是完成 jdbcType 至 javaType 的转换，体现为 <code>setParameter()</code> 和 <code>getResult()</code> 两个方法，分别代表设置 sql 问号占位符参数和获取列查询结果。</p> <h2 id="_16、mybatis-映射文件中-如果-a-标签通过-include-引用了-b-标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在-a-标签的前面"><a href="#_16、mybatis-映射文件中-如果-a-标签通过-include-引用了-b-标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在-a-标签的前面" class="header-anchor">#</a> 16、MyBatis 映射文件中，如果 A 标签通过 include 引用了 B 标签的内容，请问，B 标签能否定义在 A 标签的后面，还是说必须定义在 A 标签的前面？</h2> <p>答：</p> <p>虽然 MyBatis 解析 Xml 映射文件是按照顺序解析的，但是，被引用的 B 标签依然可以定义在任何地方，MyBatis 都可以正确识别。</p> <p>原理是，MyBatis 解析 A 标签，发现 A 标签引用了 B 标签，但是 B 标签尚未解析到，尚不存在，此时，MyBatis 会将 A 标签标记为未解析状态，然后继续解析余下的标签，包含 B 标签，待所有标签解析完毕，MyBatis 会重新解析那些被标记为未解析的标签，此时再解析 A 标签时，B 标签已经存在，A 标签也就可以正常解析完成了。</p> <h2 id="_17、简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系"><a href="#_17、简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系" class="header-anchor">#</a> 17、简述 MyBatis 的 Xml 映射文件和 MyBatis 内部数据结构之间的映射关系？</h2> <p>答：</p> <p>MyBatis 将所有 Xml 配置信息都封装到 All-In-One 重量级对象 Configuration 内部。在 Xml 映射文件中， <code>&lt;parameterMap&gt;</code> 标签会被解析为 <code>ParameterMap</code> 对象，其每个子元素会被解析为 ParameterMapping 对象。 <code>&lt;resultMap&gt;</code> 标签会被解析为 <code>ResultMap</code> 对象，其每个子元素会被解析为 <code>ResultMapping</code> 对象。每一个 <code>&lt;select&gt;、&lt;insert&gt;、&lt;update&gt;、&lt;delete&gt;</code> 标签均会被解析为 <code>MappedStatement</code> 对象，标签内的 sql 会被解析为 BoundSql 对象。</p> <h2 id="_18、为什么说-mybatis-是半自动-orm-映射工具-它与全自动的区别在哪里"><a href="#_18、为什么说-mybatis-是半自动-orm-映射工具-它与全自动的区别在哪里" class="header-anchor">#</a> 18、为什么说 MyBatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？</h2> <p>答：</p> <p>Hibernate 属于全自动 ORM 映射工具，使用 Hibernate 查询关联对象或者关联集合对象时，可以根据对象关系模型直接获取，所以它是全自动的。而 MyBatis 在查询关联对象或关联集合对象时，需要手动编写 sql 来完成，所以，称之为半自动 ORM 映射工具。</p> <p>面试题看似都很简单，但是想要能正确回答上来，必定是研究过源码且深入的人，而不是仅会使用的人或者用的很熟的人，以上所有面试题及其答案所涉及的内容，在我的 MyBatis 系列博客中都有详细讲解和原理分析。</p></div></div>  <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/interView/java/002/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Spring面试高频问题1~10</div></a> <a href="/pages/interView/java/004/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Java架构师面试高频问题1~18</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/interView/java/002/" class="prev">Spring面试高频问题1~10</a></span> <span class="next"><a href="/pages/interView/java/004/">Java架构师面试高频问题1~18</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:qingshansima@outlook.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qingshansima" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
    Copyright © 2024-2023
    <span>飞翔的土肥猿 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7d1116cd.js" defer></script><script src="/assets/js/2.f6c26bfc.js" defer></script><script src="/assets/js/3.7a437186.js" defer></script><script src="/assets/js/8.71593ea4.js" defer></script>
  </body>
</html>
